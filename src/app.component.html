<!-- Reconnection Modal -->
@if (reconnectingAttempt()) {
  <div class="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4" aria-modal="true" role="dialog">
    <div class="bg-stone-200 rounded-lg shadow-2xl p-8 text-center border-4 border-stone-400">
      <h2 class="text-3xl font-dnd-header text-red-900 mb-4">Connection Lost</h2>
      <div class="flex items-center justify-center text-stone-700">
        <i class="fas fa-spinner fa-spin mr-4 text-4xl"></i>
        <p class="text-lg">Attempting to reconnect...</p>
      </div>
    </div>
  </div>
}

<div class="min-h-screen container mx-auto p-4 md:p-8">
  @if (trackerData(); as data) {
    <app-tracker 
      [trackerData]="data" 
      (disconnect)="disconnect()">
    </app-tracker>
  } @else {
    <app-connection
      [connectionState]="connectionState()"
      [errorMessage]="errorMessage()"
      (connect)="connect($event)"
      (disconnect)="disconnect()">
    </app-connection>
  }
</div>